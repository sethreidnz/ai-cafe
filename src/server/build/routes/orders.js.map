{"version":3,"sources":["../../src/routes/orders.js"],"names":["uuidv4","require","orderService","router","get","ctx","next","allOrders","getAll","body","itemId","params","id","order","getItem","post","request","s","createItem","updatedOrder","status","put","upsertItem","delete","deleteItem"],"mappings":";;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,CAAf;;eACyBA,QAAQ,aAAR,C;IAAjBC,Y,YAAAA,Y;;kBAEO,kBAAU;AACvBC,SAAOC,GAAP,CAAW,aAAX,EAA0B,gBAAOC,GAAP,EAAYC,IAAZ,EAAqB;AAC7C,QAAMC,YAAY,MAAML,aAAaM,MAAb,CAAoB,sBAApB,CAAxB;AACAH,QAAII,IAAJ,GAAWF,SAAX;AACD,GAHD;;AAKAJ,SAAOC,GAAP,CAAW,iBAAX,EAA8B,gBAAOC,GAAP,EAAYC,IAAZ,EAAqB;AACjD,QAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,QAAMC,QAAQ,MAAMX,aAAaY,OAAb,CAAqBJ,MAArB,CAApB;AACAL,QAAII,IAAJ,GAAWI,KAAX;AACD,GAJD;;AAMAV,SAAOY,IAAP,CAAY,SAAZ,EAAuB,gBAAOV,GAAP,EAAYC,IAAZ,EAAqB;AAC1C,QAAMO,QAAQR,IAAIW,OAAJ,CAAYP,IAA1B,CAA+BQ;AAC/B,UAAMf,aAAagB,UAAb,CAAwBC,YAAxB,CAAN;AACAd,QAAIe,MAAJ,GAAa,GAAb;AACD,GAJD;;AAMAjB,SAAOkB,GAAP,CAAW,iBAAX,EAA8B,gBAAOhB,GAAP,EAAYC,IAAZ,EAAqB;AACjD,QAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,QAAMO,eAAed,IAAIW,OAAJ,CAAYP,IAAjC;AACA,UAAMP,aAAaoB,UAAb,CAAwBH,YAAxB,CAAN;AACAd,QAAIe,MAAJ,GAAa,GAAb;AACD,GALD;;AAOAjB,SAAOoB,MAAP,CAAc,iBAAd,EAAiC,gBAAOlB,GAAP,EAAYC,IAAZ,EAAqB;AACpD,QAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,UAAMV,aAAasB,UAAb,CAAwBd,MAAxB,CAAN;AACAL,QAAIe,MAAJ,GAAa,GAAb;AACD,GAJD;AAKD,C","file":"orders.js","sourcesContent":["const uuidv4 = require(\"uuid/v4\");\nconst { orderService } = require(\"../database\");\n\nexport default router => {\n  router.get('/api/orders', async (ctx, next) => {\n    const allOrders = await orderService.getAll(\"SELECT * FROM Orders\");\n    ctx.body = allOrders\n  });\n  \n  router.get('/api/orders/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    const order = await orderService.getItem(itemId);\n    ctx.body = order\n  });\n  \n  router.post('/orders', async (ctx, next) => {\n    const order = ctx.request.body;s\n    await orderService.createItem(updatedOrder);\n    ctx.status = 200;\n  });\n  \n  router.put('/api/orders/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    const updatedOrder = ctx.request.body;\n    await orderService.upsertItem(updatedOrder);\n    ctx.status = 200;\n  });\n  \n  router.delete('/api/orders/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    await orderService.deleteItem(itemId);\n    ctx.status = 200;\n  });\n};\n"]}