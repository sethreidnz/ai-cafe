{"version":3,"sources":["../../src/routes/orders.js"],"names":["uuidv4","require","orderService","router","get","ctx","next","allOrders","getAll","body","itemId","params","id","order","getItem","post","request","s","createItem","updatedOrder","status","put","upsertItem","delete","deleteItem"],"mappings":";;AAAA,MAAMA,SAASC,QAAQ,SAAR,CAAf;AACA,MAAM,EAAEC,YAAF,KAAmBD,QAAQ,aAAR,CAAzB;;AAEA,gBAAeE,UAAU;AACvBA,SAAOC,GAAP,CAAW,aAAX;AAAA,iCAA0B,WAAOC,GAAP,EAAYC,IAAZ,EAAqB;AAC7C,YAAMC,YAAY,MAAML,aAAaM,MAAb,CAAoB,sBAApB,CAAxB;AACAH,UAAII,IAAJ,GAAWF,SAAX;AACD,KAHD;;AAAA;AAAA;AAAA;AAAA;;AAKAJ,SAAOC,GAAP,CAAW,iBAAX;AAAA,kCAA8B,WAAOC,GAAP,EAAYC,IAAZ,EAAqB;AACjD,YAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,YAAMC,QAAQ,MAAMX,aAAaY,OAAb,CAAqBJ,MAArB,CAApB;AACAL,UAAII,IAAJ,GAAWI,KAAX;AACD,KAJD;;AAAA;AAAA;AAAA;AAAA;;AAMAV,SAAOY,IAAP,CAAY,SAAZ;AAAA,kCAAuB,WAAOV,GAAP,EAAYC,IAAZ,EAAqB;AAC1C,YAAMO,QAAQR,IAAIW,OAAJ,CAAYP,IAA1B,CAA+BQ;AAC/B,YAAMf,aAAagB,UAAb,CAAwBC,YAAxB,CAAN;AACAd,UAAIe,MAAJ,GAAa,GAAb;AACD,KAJD;;AAAA;AAAA;AAAA;AAAA;;AAMAjB,SAAOkB,GAAP,CAAW,iBAAX;AAAA,kCAA8B,WAAOhB,GAAP,EAAYC,IAAZ,EAAqB;AACjD,YAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,YAAMO,eAAed,IAAIW,OAAJ,CAAYP,IAAjC;AACA,YAAMP,aAAaoB,UAAb,CAAwBH,YAAxB,CAAN;AACAd,UAAIe,MAAJ,GAAa,GAAb;AACD,KALD;;AAAA;AAAA;AAAA;AAAA;;AAOAjB,SAAOoB,MAAP,CAAc,iBAAd;AAAA,kCAAiC,WAAOlB,GAAP,EAAYC,IAAZ,EAAqB;AACpD,YAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,YAAMV,aAAasB,UAAb,CAAwBd,MAAxB,CAAN;AACAL,UAAIe,MAAJ,GAAa,GAAb;AACD,KAJD;;AAAA;AAAA;AAAA;AAAA;AAKD,CA9BD","file":"orders.js","sourcesContent":["const uuidv4 = require(\"uuid/v4\");\nconst { orderService } = require(\"../database\");\n\nexport default router => {\n  router.get('/api/orders', async (ctx, next) => {\n    const allOrders = await orderService.getAll(\"SELECT * FROM Orders\");\n    ctx.body = allOrders\n  });\n  \n  router.get('/api/orders/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    const order = await orderService.getItem(itemId);\n    ctx.body = order\n  });\n  \n  router.post('/orders', async (ctx, next) => {\n    const order = ctx.request.body;s\n    await orderService.createItem(updatedOrder);\n    ctx.status = 200;\n  });\n  \n  router.put('/api/orders/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    const updatedOrder = ctx.request.body;\n    await orderService.upsertItem(updatedOrder);\n    ctx.status = 200;\n  });\n  \n  router.delete('/api/orders/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    await orderService.deleteItem(itemId);\n    ctx.status = 200;\n  });\n};\n"]}