{"version":3,"sources":["../../src/routes/reservations.js"],"names":["uuidv4","require","reservationService","router","get","ctx","next","allOrders","getAll","body","itemId","params","id","order","getItem","post","request","createItem","updatedOrder","status","put","upsertItem","delete","deleteItem"],"mappings":";;AAAA,MAAMA,SAASC,QAAQ,SAAR,CAAf;AACA,MAAM,EAAEC,kBAAF,KAAyBD,QAAQ,aAAR,CAA/B;;AAEA,gBAAeE,UAAU;AACvBA,SAAOC,GAAP,CAAW,mBAAX;AAAA,iCAAgC,WAAOC,GAAP,EAAYC,IAAZ,EAAqB;AACnD,YAAMC,YAAY,MAAML,mBAAmBM,MAAnB,CAA0B,sBAA1B,CAAxB;AACAH,UAAII,IAAJ,GAAWF,SAAX;AACD,KAHD;;AAAA;AAAA;AAAA;AAAA;;AAKAJ,SAAOC,GAAP,CAAW,uBAAX;AAAA,kCAAoC,WAAOC,GAAP,EAAYC,IAAZ,EAAqB;AACvD,YAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,YAAMC,QAAQ,MAAMX,mBAAmBY,OAAnB,CAA2BJ,MAA3B,CAApB;AACAL,UAAII,IAAJ,GAAWI,KAAX;AACD,KAJD;;AAAA;AAAA;AAAA;AAAA;;AAMAV,SAAOY,IAAP,CAAY,eAAZ;AAAA,kCAA6B,WAAOV,GAAP,EAAYC,IAAZ,EAAqB;AAChD,YAAMO,QAAQR,IAAIW,OAAJ,CAAYP,IAA1B;AACA,YAAMP,mBAAmBe,UAAnB,CAA8BC,YAA9B,CAAN;AACAb,UAAIc,MAAJ,GAAa,GAAb;AACD,KAJD;;AAAA;AAAA;AAAA;AAAA;;AAMAhB,SAAOiB,GAAP,CAAW,uBAAX;AAAA,kCAAoC,WAAOf,GAAP,EAAYC,IAAZ,EAAqB;AACvD,YAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,YAAMM,eAAeb,IAAIW,OAAJ,CAAYP,IAAjC;AACA,YAAMP,mBAAmBmB,UAAnB,CAA8BH,YAA9B,CAAN;AACAb,UAAIc,MAAJ,GAAa,GAAb;AACD,KALD;;AAAA;AAAA;AAAA;AAAA;;AAOAhB,SAAOmB,MAAP,CAAc,uBAAd;AAAA,kCAAuC,WAAOjB,GAAP,EAAYC,IAAZ,EAAqB;AAC1D,YAAMI,SAASL,IAAIM,MAAJ,CAAWC,EAA1B;AACA,YAAMV,mBAAmBqB,UAAnB,CAA8Bb,MAA9B,CAAN;AACAL,UAAIc,MAAJ,GAAa,GAAb;AACD,KAJD;;AAAA;AAAA;AAAA;AAAA;AAKD,CA9BD","file":"reservations.js","sourcesContent":["const uuidv4 = require(\"uuid/v4\");\nconst { reservationService } = require(\"../database\");\n\nexport default router => {\n  router.get('/api/reservations', async (ctx, next) => {\n    const allOrders = await reservationService.getAll(\"SELECT * FROM Orders\");\n    ctx.body = allOrders\n  });\n  \n  router.get('/api/reservations/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    const order = await reservationService.getItem(itemId);\n    ctx.body = order\n  });\n  \n  router.post('/reservations', async (ctx, next) => {\n    const order = ctx.request.body;\n    await reservationService.createItem(updatedOrder);\n    ctx.status = 200;\n  });\n  \n  router.put('/api/reservations/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    const updatedOrder = ctx.request.body;\n    await reservationService.upsertItem(updatedOrder);\n    ctx.status = 200;\n  });\n  \n  router.delete('/api/reservations/:id', async (ctx, next) => {\n    const itemId = ctx.params.id;\n    await reservationService.deleteItem(itemId);\n    ctx.status = 200;\n  });\n};\n"]}